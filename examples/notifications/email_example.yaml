# Email Notification Example
#
# This example shows how to configure email notifications for document changes.
#
# Gmail Setup:
# 1. Enable 2-factor authentication on your Google account
# 2. Generate an app password: https://myaccount.google.com/apppasswords
# 3. Use the app password in smtp_password below
#
# Generic SMTP Setup:
# 1. Get SMTP credentials from your email provider
# 2. Configure smtp_host, smtp_port, and credentials
# 3. For TLS: use port 587 with use_tls: true
# 4. For SSL: use port 465 with use_tls: false

storage:
  backend: sqlite
  sqlite:
    db_path: ragversion.db

notifications:
  enabled: true
  notifiers:
    - type: email
      name: admin-email
      enabled: true

      # SMTP Configuration
      smtp_host: smtp.gmail.com  # Gmail SMTP server
      smtp_port: 587  # TLS port
      smtp_username: your-email@gmail.com
      smtp_password: your-app-password  # Use app password, not account password
      use_tls: true  # Use TLS encryption

      # Email Addresses
      from_address: ragversion@yourcompany.com
      to_addresses:
        - admin@yourcompany.com
        - team@yourcompany.com

      # Optional: CC addresses
      cc_addresses:
        - manager@yourcompany.com

      # Optional: Email subject prefix
      subject_prefix: "[RAGVersion]"

      # Optional: Request timeout in seconds
      timeout_seconds: 30

# Common SMTP Configurations:
#
# Gmail:
#   smtp_host: smtp.gmail.com
#   smtp_port: 587
#   use_tls: true
#
# Outlook/Office 365:
#   smtp_host: smtp.office365.com
#   smtp_port: 587
#   use_tls: true
#
# SendGrid:
#   smtp_host: smtp.sendgrid.net
#   smtp_port: 587
#   use_tls: true
#   smtp_username: apikey
#   smtp_password: YOUR_SENDGRID_API_KEY
#
# Amazon SES:
#   smtp_host: email-smtp.us-east-1.amazonaws.com
#   smtp_port: 587
#   use_tls: true

# Example usage:
#
# CLI:
#   ragversion watch ./documents --patterns "*.pdf"
#
# Python:
#   from ragversion import AsyncVersionTracker
#   from ragversion.storage.sqlite import SQLiteStorage
#   from ragversion.config import RAGVersionConfig
#   from ragversion.notifications import create_notification_manager
#
#   config = RAGVersionConfig.load("email_example.yaml")
#   notification_manager = create_notification_manager(config.notifications.notifiers)
#
#   storage = SQLiteStorage(config.sqlite.db_path)
#   tracker = AsyncVersionTracker(storage=storage, notification_manager=notification_manager)
#
#   async with tracker:
#       metadata = {"environment": "production"}
#       await tracker.track("./documents/critical.pdf", metadata=metadata)
